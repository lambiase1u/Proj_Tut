<div ng-switch="vm.$state.$current.self.name">
    <div ng-switch-when="app.landing">
        <div class="row">
            <section layout="row" flex>
                <md-sidenav
                        class="md-sidenav-left"
                        md-component-id="left"
                        md-is-locked-open="true"
                        md-whiteframe="4">
                    <md-toolbar class="md-theme-indigo">
                        <h1 class="md-toolbar-tools">Quelques événements</h1>
                    </md-toolbar>
                    <md-content layout-align="center start">
                        <md-card class="eventCard" ng-repeat="event in vm.events">
                            <md-card-content layout-align="center start">
                                <h3 class="md-title">{{event.title}}</h3>
                                <div ng-if="event.sameDay">
                                    <p class="date">Le {{event.dateDebut.toLocaleDateString()}} </br>
                                    De {{event.dateDebut.toLocaleTimeString()}} à {{event.dateFin.toLocaleTimeString()}}</p>
                                </div>
                                <div ng-if="!event.sameDay">
                                    <p class="date">Du {{event.dateDebut.toLocaleString()}} </br>
                                    au {{event.dateFin.toLocaleString()}}</p>
                                </div>
                                <p>{{event.description}}</p>
                            </md-card-content>
                            <md-card-actions layout="row" layout-align="center center">
                               <md-button md-colors="{background: 'blue'}" ng-click="vm.seeEvent(event.id)">Voir l'événément</md-button>
                            </md-card-actions>
                        </md-card>
                    </md-content>
                </md-sidenav>
                <md-content flex layout-padding>
                    <div  map-lazy-load="https://maps.google.com/maps/api/js?key=AIzaSyAFosuj-n-qIEM_BRqt2JX-YIhfno9138k">
                        <ng-map style="height: 800px" zoom="14" center="[{{vm.location.lat}}, {{vm.location.lng}}]" >
                            <marker ng-repeat="p in vm.positions" position="{{p.lat}}, {{p.lng}}" title="pos: {{p.pos}}" on-click="vm.details({{p}})"> </marker>
                        </ng-map>
                    </div>
                </md-content>
            </section>
        </div>
    </div>
</div>